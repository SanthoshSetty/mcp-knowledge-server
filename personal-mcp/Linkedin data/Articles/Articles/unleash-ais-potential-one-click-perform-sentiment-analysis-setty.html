<html>
<head>
  <title>Unleash AI's Potential with One-Click! Perform Sentiment Analysis with ChatGPT APIs for Customer Insights.</title>
  <style>
    body {
      margin: 0 auto;
      width: 744px;
      font-family: Source Serif Pro, serif;
      line-height: 32px;
      font-weight: 400;
      color: rgba(0, 0, 0, 0.7);
      font-size: 21px;
    }
    h1, h2, h3 {
      font-family: Source Sans Pro, Helvetica, Arial, sans-serif;
    }
    h1 a, h1 a:visited {
      color: inherit;
      text-decoration: none;
    }
    h1 {
      line-height: 48px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 42px;
      margin: 32px 0 20px;
    }
    h2 {
      line-height: 32px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 26px;
      margin: 28px 0;
    }
    h3 {
      line-height: 28px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 21px;
      margin: 24px 0;
    }
    p {
      margin: 32px 0;
    }
    .created, .published {
      color: rgba(0, 0, 0, 0.55);
      font-size: 15px;
      line-height: 15px;
      margin: 20px 0;
    }
    .created + .published {
      margin-top: -12px;
    }
    blockquote {
      font-family: Georgia, Source Serif Pro, serif;
      font-style: italic;
      font-size: 24px;
      line-height: 36px;
      margin: 48px 120px;
      text-align: center;
    }
    a {
      word-wrap: break-word;
      outline: none;
      text-decoration: none;
      background-color: transparent;
      border: 0;
      color: #008CC9;
    }
    a:hover {
      text-decoration: underline;
    }
    a:visited {
      color: #8C68CB;
    }
    .center {
      text-align: center;
    }
    iframe {
      display: block;
      margin: 44px auto;
    }
    *:not(pre) + pre, pre:first-of-type {
      margin-top: 32px;
      padding-top: 32px;
    }
    pre:only-of-type {
      margin: 32px 0;
      padding: 32px;
    }
    pre {
      background: #F3F6F8;
      overflow-x: auto;
      display: block;
      font-size: 13px;
      font-family: monospace;
      line-height: 13px;
      padding: 0 32px 32px;
      white-space: pre;
    }
    a.embedded {
      background: #F3F6F8;
      display: block;
      padding: 32px;
      margin: 32px 0;
    }
    img {
      height: auto;
      max-width: 100%;
    }
    .slate-image-embed__resize-full-width img {
      width: 100%;
    }
    .series-logo {
      width: 48px;
      height: 48px;
      box-sizing: border-box;
      background-clip: content-box;
      border: 4px solid transparent;
      border-radius: 6px;
      object-fit: scale-down;
      float: left;
    }
    .series-title {
      font-size: 16px;
      font-weight: 600;
      vertical-align: top;
    }
    .series-description {
      color: rgba(0,0,0,.6);
      font-weight: 400;
      font-size: 14px;
      line-height: 20px;
    }
    div {
      margin: 32px 0;
    }
  </style>
</head>
<body>
    <img class="series-logo" src="https://media.licdn.com/dms/image/v2/D4E12AQEqrG3yf687xg/series-logo_image-shrink_300_300/series-logo_image-shrink_300_300/0/1687008164072?e=1755734400&v=beta&t=_bAF5fqYM3fmXm02gQGDI9XnhC1lR7PLw5ic4nJyLe8" />
    <h3>
      <span class="series-title">WorkWonders with AI</span>
      </br>
      <span class="series-description">Boost office productivity with 'WorkWonders with AI', exploring AI tools like ChatGPT and Bard solving real problems</span>
    </h3>
    <img src="https://media.licdn.com/mediaD4E12AQGWt5j92Kr10Q" alt="image generated using mid journey" title="image generated using mid journey" />
      <h1><a href="https://www.linkedin.com/pulse/unleash-ais-potential-one-click-perform-sentiment-analysis-setty">Unleash AI's Potential with One-Click! Perform Sentiment Analysis with ChatGPT APIs for Customer Insights.</a></h1>
    <p class="created">Created on 2023-06-15 21:37</p>
  <p class="published">Published on 2023-06-19 13:44</p>
  <div><p>Have you ever struggled with conducting sentiment analysis, grappling with the complexities of Natural Language Processing (NLP) algorithms? Say goodbye to the challenges! With <strong>GPT-3.5-turbo from OpenAI</strong>, you can now turbocharge your sentiment analysis effortlessly, without the need for extensive coding skills! Discover the step-by-step process to harness the incredible capabilities of this cutting-edge AI model.</p><h3>Why Should You Care About Sentiment Analysis?</h3><p>First off, let's demystify sentiment analysis. It's an AI-based method of gauging emotions, attitudes, and opinions from textual data. But why does it matter, and who stands to gain from it? Well, the answer is: virtually anyone and everyone!</p><p>Whether you're a <strong>product manager</strong> seeking to discern user feedback, an engineer striving to enhance user experience, or a <strong>category manager</strong> aiming to evaluate customer sentiment, sentiment analysis serves as your magic mirror, reflecting what your clients truly feel.</p><p><strong>Marketing teams</strong> can decode customer reactions towards their campaigns and fine-tune their strategies to strike a chord with their audience. <strong>Customer service</strong> teams can employ sentiment analysis to spot dissatisfied customers and nip their concerns in the bud. Above all, executives and leaders can use sentiment analysis as their secret weapon to stay attuned to overall customer sentiment, leading to strategic, data-backed decisions that align with customer wants and needs.</p><p>Imagine the power sentiment analysis hands to you â€“ a dynamic tool to bolster customer understanding and strategic decision-making across various roles and industries.</p><h3><strong>Sentiment Analysis with GPT-3.5-turbo: How Does It Work?</strong></h3><p>GPT-3.5-turbo is a state-of-the-art language model developed by OpenAI. It's capable of understanding context, generating human-like text, and even conducting sentiment analysis! Let's see how we can use it for our purpose.</p><p>The process is straightforward. We present a batch of reviews to the model and instruct it to classify the sentiment of each review as positive, negative, or neutral (or any other classification depending on the use case). The model then returns a batch of results containing the classified sentiments for each review.</p><p>With the traditional approach, you could use ChatGPT to manually classify your data, which would involve copying, pasting, and repeating the process multiple times. However, the method I'm about to unveil provides a much more efficient alternative. This approach employs the power of GPT-3.5 Turbo, a model that seamlessly takes a CSV file from your local drive, classifies the data according to your requirements, and then delivers the results in an organized CSV format. It's as user-friendly as it sounds - a truly one-click solution. Exciting, isn't it?</p><p>To illustrate the sentiment analysis process, I will be utilizing real customer app reviews from Spotify. The dataset I will be using is readily available on Kaggle <a href="https://www.kaggle.com/datasets/mfaaris/spotify-app-reviews-2022" target="_blank">(https://www.kaggle.com/datasets/mfaaris/spotify-app-reviews-2022)</a>. I have downloaded the dataset in CSV format and will be leveraging Python and GPT-3.5 turbo to analyze the sentiment expressed in these reviews.</p><p>In this analysis, I will examine the dataset from the perspective of a product manager. The goal is to classify the reviews into categories such as <strong>"Bug," "Feature Request," or "General Feedback.</strong>" This categorization will provide valuable insights to enrich my product backlog and drive improvements.&nbsp;</p><h3>Step 1: Importing Libraries and Authenticating with OpenAI API</h3><p>In this section, we import the necessary libraries for our sentiment analysis task. We import the <strong>openai</strong> library to interact with the OpenAI API and the <strong>json</strong> library for data serialization. Additionally, we import the <strong>pandas</strong> library to handle data manipulation. We also set up the OpenAI API key by assigning it to the <strong>openai.api_key</strong> variable, replacing <strong>'YOUR_OPENAI_API_KEY'</strong> with your actual API key. This step is crucial for authenticating and accessing the OpenAI API services.</p><pre spellcheck="false">import openai
import json
import pandas as pd

openai.api_key = 'YOUR_OPENAI_API_KEY'

df = pd.read_csv('path/to/your/file.csv')
batch_size = 50

result_df = pd.DataFrame(columns=['Review', 'Classification'])
</pre><h3>Step 2: Loading Data and Initializing Variables</h3><p>Here, we load the dataset from a CSV file using the <strong>pd.read_csv()</strong> function from the pandas library. We specify the file path as an argument to read the data into a pandas DataFrame (<strong>df</strong>). Additionally, we initialize the <strong>batch_size</strong> variable to determine the number of reviews to process in each batch. Furthermore, we create an empty DataFrame <strong>result_df</strong> with the columns 'Review' and 'Classification' to store the sentiment analysis results.</p><pre spellcheck="false">for i in range(0, df.shape[0], batch_size):
&nbsp; &nbsp; batch = df['Review'][i:i+batch_size].tolist()
&nbsp; &nbsp; stringified_batch = json.dumps(batch)
&nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; user_message = {
&nbsp; &nbsp; &nbsp; &nbsp; "role": "user",
&nbsp; &nbsp; &nbsp; &nbsp; "content": stringified_batch
&nbsp; &nbsp; }
&nbsp; &nbsp; system_message = {
&nbsp; &nbsp; &nbsp; &nbsp; "role": "system",
&nbsp; &nbsp; &nbsp; &nbsp; "content": 'You are a helpful assistant that categorizes user reviews into the following categories: "Feature Request", "Bug", or "General Feedback". For each review, please state the category and then the review.'
&nbsp; &nbsp; }
&nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; response = openai.ChatCompletion.create(
&nbsp; &nbsp; &nbsp; &nbsp; model="gpt-3.5-turbo",
&nbsp; &nbsp; &nbsp; &nbsp; messages=[user_message, system_message],
&nbsp; &nbsp; &nbsp; &nbsp; max_tokens=1000
&nbsp; &nbsp; )
&nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; print(response)


</pre><h3>Step 3: Performing Sentiment Analysis on Reviews</h3><p>This section contains a loop that iterates over the reviews in batches. We divide the reviews into batches using the <strong>range()</strong> function and access the 'Review' column from the DataFrame using <strong>df['Review']</strong>. Inside the loop, we convert the batch of reviews into a JSON string using <strong>json.dumps()</strong> and create two message objects: <strong>user_message</strong> and <strong>system_message</strong>. The <strong>user_message</strong> contains the stringified batch of reviews, while the <strong>system_message</strong> provides instructions to the model.</p><p>We make an API request to the OpenAI ChatCompletion model (<strong>gpt-3.5-turbo</strong>) using <strong>openai.ChatCompletion.create()</strong>. The response contains the model's categorization of the reviews. We parse the response by splitting the content into lines and removing empty strings. We skip the first line, as it is a general instruction, and then split each line into category and review using <strong>classification.split(': ', 1)</strong>.</p><p>The parsed classifications are stored in a DataFrame <strong>batch_df</strong>, which is concatenated with the <strong>result_df</strong> DataFrame using <strong>pd.concat()</strong>. This process ensures that the sentiment analysis results are accumulated across all batches.</p><pre spellcheck="false">&nbsp; &nbsp; classifications = list(filter(None, response.choices[0].message.content.split('\n')))
&nbsp; &nbsp; classifications = classifications[1:]
&nbsp; &nbsp; classifications_parsed = [classification.split(': ', 1) for classification in classifications]
&nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; batch_df = pd.DataFrame(classifications_parsed, columns=['Classification', 'Review'])
&nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; result_df = pd.concat([result_df, batch_df], ignore_index=True)


</pre><h3><strong>Step 4: Saving Sentiment Analysis Results to CSV</strong></h3><p>In this final section, we save the sentiment analysis results stored in <strong>result_df</strong> to a CSV file using the <strong>to_csv()</strong> function. We provide the desired file path as an argument and set <strong>index=False</strong> to exclude the DataFrame index from the CSV file. By saving the results, we can easily analyze and further process the sentiment analysis outcomes.</p><pre spellcheck="false">result_df.to_csv('path/to/save/result.csv', index=False)
</pre><p>These code sections exemplify the process of loading the Spotify app reviews dataset, conducting sentiment analysis on the reviews, and preserving the results for further examination. By batching the requests, the code optimizes efficiency when analyzing a substantial volume of data, such as ~61K rows. It is important to note that executing this analysis incurred a cost of $32 for the API calls and took approximately 10 minutes to complete. To mitigate these expenses, an upgraded access plan with OpenAI was acquired. When considering the cost-effectiveness of this approach, it becomes evident that the expenses pale in comparison to the average hourly wage of an analyst or data scientist, as well as the substantial costs associated with developing a custom sentiment analysis service on a cloud platform. This approach proves to be a resounding success.</p><p>The results of this analysis are documented in a CSV file, providing a comprehensive analysis of approximately 61,000 rows. The dataset has been successfully classified into three distinct categories. Take a glimpse at the initial rows of the dataset to witness the accurate classification.</p><figure class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:D4E12AQHKIu1V9YVj7g" src="https://media.licdn.com/dms/image/v2/D4E12AQHKIu1V9YVj7g/article-inline_image-shrink_400_744/article-inline_image-shrink_400_744/0/1687168012808?e=1755734400&amp;v=beta&amp;t=PEFMpSdkBVh8mTUvyvxRmdHF54AKu8bPnr3x5TwP0PY"><figcaption>Spotify Review classification by GPT-3.5 model. eg, Fitst few rows from the dataset</figcaption></figure><p>The summary of the entire dataset is presented in the following chart:</p><figure class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:D4E12AQEDv0lMjN2hCg" src="https://media.licdn.com/dms/image/v2/D4E12AQEDv0lMjN2hCg/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1687168123869?e=1755734400&amp;v=beta&amp;t=PEt2zZ9AwpOtLgMyYyXniI7cnK6eqhnNHD0SiYuFJco"><figcaption>distribution of spotify reviews</figcaption></figure><p>Furthermore, leveraging the power of GPT-3.5, we can extend the analysis by employing simple prompts and additional API calls to group similar features together. This capability would provide invaluable insights for product managers, offering a multitude of possibilities limited only by one's imagination.</p><p>In conclusion, this approach presents a simple and code-light pathway to conduct sentiment analysis using the powerful GPT-3.5-turbo. By harnessing the capabilities of AI models, professionals across various domains can unlock valuable insights from customer feedback. <strong>Category managers can better understand product reviews</strong> and enhance assortment planning, while <strong>marketing teams can optimize campaigns</strong> and establish stronger connections with their audience. With every analysis, we move closer to unraveling the true sentiments of customers, empowering us to make data-driven decisions and deliver exceptional experiences. Embrace this extraordinary tool and witness the transformative potential of AI as it propels your organization forward!</p><p>Thank you for taking the time to read my article. I hope you found it interesting and informative. Stay tuned for next Monday when I'll be sharing another captivating article focused on boosting your productivity. Wishing you a fantastic week ahead! Don't forget to follow me (<a target="_blank">Santhosh Kumar Setty</a>) for more engaging content like this.</p></div>
</body>
</html>